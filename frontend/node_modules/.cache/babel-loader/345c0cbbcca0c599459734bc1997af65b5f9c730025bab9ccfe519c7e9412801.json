{"ast":null,"code":"import _slicedToArray from\"C:/Users/Vladimir/Desktop/server/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./index.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Basket=function Basket(_ref){var item=_ref.item;var _useState=useState(),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var removeList=function removeList(items){{axios.delete(\"https://6411c0db5d0c49b7c5b9068c.mockapi.io/rwerwe/\".concat(items));}setInterval(function(){window.location.reload();},1000);};var editItem=function editItem(newName){setInputValue(newName);item.name=newName;};useEffect(function(){setInputValue(item.name);},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),editMode=_useState4[0],setEditMode=_useState4[1];var putItem=function putItem(item){axios.put(\"https://6411c0db5d0c49b7c5b9068c.mockapi.io/rwerwe/\".concat(item.id),item).catch(function(){alert('Ошибка при редактировании!');});setEditMode(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"aside\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imageUrl,width:\"60px\",height:\"60px\"}),editMode?/*#__PURE__*/_jsx(\"input\",{value:inputValue,onChange:function onChange(e){return editItem(e.target.value);},type:\"text\"}):/*#__PURE__*/_jsx(\"p\",{children:item.name}),/*#__PURE__*/_jsx(\"p\",{children:item.price}),editMode?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return putItem(item);},children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}):/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setEditMode(true);},children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return removeList(item.id);},src:\"https://cdn-icons-png.flaticon.com/128/70/70206.png\",style:{cursor:'pointer'},width:\"30px\",height:\"30px\"})]});};export default Basket;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Basket","_ref","item","_useState","_useState2","_slicedToArray","inputValue","setInputValue","removeList","items","delete","concat","setInterval","window","location","reload","editItem","newName","name","_useState3","_useState4","editMode","setEditMode","putItem","put","id","catch","alert","className","children","src","imageUrl","width","height","value","onChange","e","target","type","price","onClick","style","cursor"],"sources":["C:/Users/Vladimir/Desktop/server/frontend/src/components/basket/BasketItem.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport axios from 'axios';\r\n\r\nconst Basket = ({ item }) => {\r\n\t\r\n\tconst [inputValue, setInputValue] = useState();\r\n\r\n\tconst removeList = (items) => {\r\n\t\t{\r\n\t\t\taxios.delete(`https://6411c0db5d0c49b7c5b9068c.mockapi.io/rwerwe/${items}`)\r\n\t\t}\r\n\t\tsetInterval(() => {\r\n\t\t\twindow.location.reload()\r\n\t\t}, 1000)\r\n\t}\r\n\r\n\tconst editItem = (newName) => {\r\n\t\tsetInputValue(newName);\r\n\t\titem.name = newName;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetInputValue(item.name);\r\n\t}, []);\r\n\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\r\n\tconst putItem = (item) => {\r\n\t\taxios.put(`https://6411c0db5d0c49b7c5b9068c.mockapi.io/rwerwe/${item.id}`, item)\r\n\t\t\t.catch(() => {\r\n\t\t\t\talert('Ошибка при редактировании!');\r\n\t\t\t})\r\n\t\tsetEditMode(false);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='aside'>\r\n\t\t\t<img src={item.imageUrl} width='60px' height='60px' />\r\n\t\t\t{\r\n\t\t\t\teditMode ?\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\t\t\tonChange={e => editItem(e.target.value)}\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t: <p>{item.name}</p>\r\n\t\t\t}\r\n\t\t\t<p>{item.price}</p>\r\n\t\t\t{editMode ?\r\n\t\t\t\t<button onClick={() => putItem(item)}>Сохранить</button>\r\n\t\t\t\t: <button onClick={() => setEditMode(true)}>Редактировать</button>}\r\n\t\t\t<img onClick={() => removeList(item.id)} src='https://cdn-icons-png.flaticon.com/128/70/70206.png' style={{ cursor: 'pointer' }} width='30px' height='30px' />\r\n\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Basket"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}